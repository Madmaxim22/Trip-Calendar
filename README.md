# Trip Calendar

![Test and Deploy](https://github.com/Madmaxim22/Trip-Calendar/workflows/Test%20and%20Deploy/badge.svg)

Календарь для выбора дат поездки туда и обратно.

## Описание

Этот проект представляет собой интерактивный календарь для выбора дат поездки туда и обратно. Он включает в себя:
- Виджет календаря с возможностью выбора дат
- Логику управления датами поездки (туда/обратно)
- Валидацию выбранных дат
- Поддержку отображения на русском языке

## Установка

1. Клонируйте репозиторий:
```bash
git clone <url>
```

2. Установите зависимости:
```bash
npm install
```

## Использование

1. Запустите приложение:
```bash
npm start
```

2. Откройте браузер и перейдите по адресу `http://localhost:5000`

## Запуск тестов

Для запуска тестов выполните:
```bash
npm test
```

Для запуска тестов в режиме слежения:
```bash
npm test:watch
```

Для получения покрытия кода тестами:
```bash
npm test:coverage
```

## Структура проекта

- `src/js/CalendarGrid.js` - Класс для отображения сетки календаря
- `src/js/CalendarPopup.js` - Класс для отображения всплывающего окна календаря
- `src/js/CalendarWidget.js` - Класс виджета календаря
- `src/js/DateInput.js` - Класс для управления полем ввода даты
- `src/js/TripManager.js` - Класс для управления логикой поездки (туда/обратно)
- `src/js/__tests__/` - Тесты для всех классов

## Сравнение библиотек для работы с датами

| Характеристика | Moment.js | Temporal | date-fns |
|---|---|---|---|
| **Статус** | Устаревшая библиотека (не рекомендуется для новых проектов) | Предлагаемая новая встроенная функциональность в JavaScript (в стадии обсуждения и разработки) | Активно поддерживаемая библиотека |
| **Интеграция** | Внешняя библиотека, требует установки | Будущая встроенная функциональность JavaScript (пока через полифил) | Внешняя библиотека, требует установки |
| **Иммутабельность** | По умолчанию мутабельные объекты (но можно использовать clone()) | Иммутабельные объекты по умолчанию | Иммутабельные объекти (все функции возвращают новые значения) |
| **Размер бандла** | Большой размер из-за включения всех функций | Зависит от полифила (будет встроена в движок JS) | Модульная структура, можно импортировать только нужные функции |
| **API** | ООП-ориентированный (методы объекта) | ООП-ориентированный с явным разделением типов | Функциональный подход (отдельные функции) |
| **Поддержка временных зон** | Хорошая поддержка через moment-timezone | Планируется продвинутая поддержка временных зон | Ограниченная поддержка (через date-fns-tz) |
| **Производительность** | Ниже из-за мутабельности и больших объектов | Высокая (оптимизирована для производительности) | Высокая (маленькие функции, оптимизированная структура) |
| **Локализация** | Хорошая поддержка локализации | Будет хорошая поддержка локализации | Отличная поддержка локализации |
| **Синтаксис примера** | `moment().add(1, 'day').format('YYYY-MM-DD')` | `Temporal.Now.plainDateISO().add({days: 1}).toString()` | `format(addDays(new Date(), 1), 'yyyy-MM-dd')` |
| **Поддержка** | Не развивается, только критические исправления | Активная разработка в TC39 | Активная поддержка и развитие |
| **Обратная совместимость** | Полностью совместима существующим кодом | Полностью новая система, требует переписывания | Требует изменения подхода к работе с датами |

## Рекомендации

Для текущего проекта, использующего Moment.js, рекомендую рассмотреть переход на date-fns, так как он обеспечивает:

- Лучшую производительность
- Меньший размер бандла за счет модульности
- Иммутабельность (безопаснее в использовании)
- Активную поддержку и развитие
- Совместимость с системами сборки и tree-shaking

Temporal пока не готов для использования в продакшене, но представляет собой перспективное будущее для работы с датами в JavaScript.